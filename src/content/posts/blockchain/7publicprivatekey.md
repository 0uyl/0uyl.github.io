---
title: 공개키, 개인키, 서명
published: 2025-08-31
tags: [Blockchain, Smartcontract]
category: Blockchain
description: private key = op
draft: false
---

# 1. 키쌍의 관계

- 개인키(Private key): 무작위로 뽑는 비밀 숫자(32바이트). 절대 유출되면 안 됨.

- 공개키(Public key): 개인키로부터 타원 곡선 디지털 서명 알고리즘(ECDSA, secp256k1) 으로 계산해 만든 값. 모두에게 공개해도 됨.

- 이 둘은 수학적으로 연결되어 있어, "이 서명이 진짜로 그 개인키로 만들어졌는지"를 공개키로 검증할 수 있음

<주의😱>
트랜잭션을 보낼 때 개인키로 보내지 않음<br>
지갑이 로컬에서 개인키로 서명만 하고, 네트워크엔 서명 결과(보통 r, s, v)와 트랜잭션 데이터가 전파됨<br><br>

# 2. 서명 방식

1. 트랜잭션을 정해진 형식대로 해싱(이더리움은 보통 Keccak-256)
2. 그 해시를 개인키로 ECDSA 서명
-> 서명값 (r, s, v) 생성
3. 누구나(노드, 블록 탐색기 등) 공개키(또는 v로 복구한 공개키)로 서명의 유효성을 확인 가능
    - 이 과정에서 개인키를 알아낼 수는 없음(일방향성)<br><br>

# 3. 비밀로 해야 하는 이유

- 개인키가 유출되면 공격자가 임의로 서명하여 대신 송금 가능, 승인 가능 = 자산 탈취.<br><br>

# 4. 주소가 만들어지는 원리

- 공개키 -> Keccak-256 해시 -> 마지막 20바이트 = 이더리움 주소(앞에 0x).
- 대소문자 혼합 체크섬(EIP-55)이 붙을 수 있지만, 핵심은 "공개키로부터 파생"된다는 점<br><br>

# + 서명
- 메시지 해시 z를 개인키로 ECDSA로 서명한 결과.
- 트랜잭션마다 달라짐(서명에 쓰는 난수 k)
- 네트워크엔 서명값과 메시지만 보내고, 개인키 안 보냄





